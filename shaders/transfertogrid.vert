precision mediump float;attribute vec2 a_textureCoordinates;uniform sampler2D u_positionTexture;uniform sampler2D u_velocityTexture;uniform vec3 u_gridSize;uniform vec3 u_gridResolution;varying vec3 v_position;varying vec3 v_velocity;uniform float u_zOffset;varying float v_zIndex;void main(){gl_PointSize=5.0;vec3 a=texture2D(u_positionTexture,a_textureCoordinates).rgb;a=(a/u_gridSize)*u_gridResolution;vec3 b=texture2D(u_velocityTexture,a_textureCoordinates).rgb;v_velocity=b;v_position=a;vec3 c=vec3(floor(a.xyz));v_zIndex=c.z+u_zOffset;vec2 d=vec2(v_zIndex*(u_gridResolution.x+1.0)+c.x+0.5,c.y+0.5)/vec2((u_gridResolution.x+1.0)*(u_gridResolution.z+1.0),u_gridResolution.y+1.0);gl_Position=vec4(d*2.0-1.0,0.0,1.0);}